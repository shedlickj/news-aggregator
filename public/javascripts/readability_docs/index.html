<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title> ScriptDoc Reference</title><link rel="stylesheet" href="images/shared.css" type="text/css"></head><body><h1> ScriptDoc Reference</h1><div class="content"><h2>Properties</h2><div class="list"><a name="#.bodyCache"></a><h3>static&nbsp;<i>null</i>&nbsp;readability.bodyCache</h3><p class="padded">The frame hack is to workaround a firefox bug where if you pull content out of a frame and stick it into the parent element, the scrollbar won't appear. So we fake a scrollbar in the wrapping div.</p><dl class="details"></dl><a name="#Object.regexps"></a><h3>static&nbsp;<i>Regex</i>&nbsp;readability.regexps.regexps</h3><p class="padded">All of the regular expressions in use within readability. Defined up here so we don't instantiate them repeatedly in loops.</p><dl class="details"></dl><a name="#Object.regexps"></a><h3>static&nbsp;<i>Regex</i>&nbsp;readability.regexps.regexps</h3><p class="padded">All of the regular expressions in use within readability. Defined up here so we don't instantiate them repeatedly in loops.</p><dl class="details"></dl><a name="#Object.getArticleTools"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.getArticleTools.getArticleTools</h3><p class="padded">Get the article tools Element that has buttons like reload, print, email.</p><dl class="details"></dl><a name="#Object.getArticleTitle"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.getArticleTitle.getArticleTitle</h3><p class="padded">Get the article title as an H1. Currently just uses document.title, we might want to be smarter in the future.</p><dl class="details"></dl><a name="#Object.getArticleFooter"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.getArticleFooter.getArticleFooter</h3><p class="padded">Get the footer with the readability mark etc.</p><dl class="details"></dl><a name="#Object.typeKitLoader"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.prepDocument.typeKitLoader</h3><p class="padded">Done as a script elem so that it's ensured it will activate after typekit is loaded from the previous script src.</p><dl class="details"></dl><a name="#Object.allParagraphs"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.grabArticle.allParagraphs</h3><p class="padded">Loop through all paragraphs, and assign a score to them based on how content-y they look. Then add their score to their parent node. A score is determined by things like number of commas, class names, etc. Maybe eventually link density.</p><dl class="details"></dl><a name="#Object.topCandidate"></a><h3>static&nbsp;<i>null</i>&nbsp;readability.grabArticle.topCandidate</h3><p class="padded">After we've calculated scores, loop through all of the possible candidate nodes we found and find the one with the highest score.</p><dl class="details"></dl><a name="#Object.articleContent"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.grabArticle.articleContent</h3><p class="padded">Now that we have the top candidate, look through its siblings for content that might also be related. Things like preambles, content split by ads that we removed, etc.</p><dl class="details"></dl><a name="#Object.getLinkDensity"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.getLinkDensity.getLinkDensity</h3><p class="padded">Get the density of links as a percentage of the content This is the amount of text that is inside a link divided by the total text in the node.</p><dl class="details"></dl><a name="#Object.getClassWeight"></a><h3>static&nbsp;<i>Number</i>&nbsp;readability.getClassWeight.getClassWeight</h3><p class="padded">Get an elements class/id weight. Uses regular expressions to tell if this element looks good or bad.</p><dl class="details"></dl><a name="#Object.emailBox"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.emailBox.emailBox</h3><p class="padded">Show the email popup.</p><dl class="details"></dl><a name="#Object.kindleBox"></a><h3>static&nbsp;<i>Object</i>&nbsp;readability.kindleBox.kindleBox</h3><p class="padded">Show the email popup.</p><dl class="details"></dl></div><h2>Functions</h2><div class="list"><a name="#.init"></a><h3>readability.init()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Runs readability. Workflow: 1. Prep the document by removing script tags, css, etc. 2. Build readability's DOM tree. 3. Grab the article content from the current dom tree. 4. Replace the current DOM tree with the new one. 5. Read peacefully.</p><dl class="details"></dl><a name="#.getArticleTools"></a><h3>readability.getArticleTools()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the article tools Element that has buttons like reload, print, email.</p><dl class="details"></dl><a name="#.getArticleTitle"></a><h3>readability.getArticleTitle()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the article title as an H1. Currently just uses document.title, we might want to be smarter in the future.</p><dl class="details"></dl><a name="#.getArticleFooter"></a><h3>readability.getArticleFooter()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the footer with the readability mark etc.</p><dl class="details"></dl><a name="#.prepDocument"></a><h3>readability.prepDocument()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Prepare the HTML document for readability to scrape it. This includes things like stripping javascript, CSS, and handling terrible markup.</p><dl class="details"></dl><a name="#.prepArticle"></a><h3>readability.prepArticle(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Prepare the article node for display. Clean out any inline styles, iframes, forms, strip extraneous <p> tags, etc.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.initializeNode"></a><h3>readability.initializeNode(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Initialize a node with the readability object. Also checks the className/id for special names to add to its score.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.grabArticle"></a><h3>readability.grabArticle()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">* grabArticle - Using a variety of metrics (content score, classname, element types), find the content that is most likely to be the stuff a user wants to read. Then return it wrapped up in a div.</p><dl class="details"></dl><a name="#.getInnerText"></a><h3>readability.getInnerText(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the inner text of a node - cross browser compatibly. This also strips out any excess whitespace to be found.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.getCharCount"></a><h3>readability.getCharCount(<i>Object</i>&nbsp;Element,&nbsp;<i>Object</i>&nbsp;string)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the number of times a string s appears in the node e.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr><tr><td width="10%"><i>Object</i></td><td width="10%"><b>string</b></td><td width="80%">- what to split on. Default is ","</td></tr></table></p><dl class="details"></dl><a name="#.cleanStyles"></a><h3>readability.cleanStyles(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Remove the style attribute on every e and under. TODO: Test if getElementsByTagName(*) is faster.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.getLinkDensity"></a><h3>readability.getLinkDensity(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get the density of links as a percentage of the content This is the amount of text that is inside a link divided by the total text in the node.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.getClassWeight"></a><h3>readability.getClassWeight(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Get an elements class/id weight. Uses regular expressions to tell if this element looks good or bad.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.killBreaks"></a><h3>readability.killBreaks(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Remove extraneous break tags from a node.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.clean"></a><h3>readability.clean(<i>Object</i>&nbsp;Element,&nbsp;<i>Object</i>&nbsp;string)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Clean a node of all elements of type "tag". (Unless it's a youtube/vimeo video. People love movies.)</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr><tr><td width="10%"><i>Object</i></td><td width="10%"><b>string</b></td><td width="80%">tag to clean</td></tr></table></p><dl class="details"></dl><a name="#.cleanConditionally"></a><h3>readability.cleanConditionally()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Clean an element of all tags of type "tag" if they look fishy. "Fishy" is an algorithm based on content length, classnames, link density, number of images & embeds, etc.</p><dl class="details"></dl><a name="#.cleanHeaders"></a><h3>readability.cleanHeaders(<i>Object</i>&nbsp;Element)&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Clean out spurious headers from an Element. Checks things like classnames and link density.</p><p class="padded"><table cellspacing="3" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>Element</b></td><td width="80%"></td></tr></table></p><dl class="details"></dl><a name="#.emailBox"></a><h3>readability.emailBox()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Show the email popup.</p><dl class="details"></dl><a name="#.kindleBox"></a><h3>readability.kindleBox()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Show the email popup.</p><dl class="details"></dl><a name="#.removeFrame"></a><h3>readability.removeFrame()&nbsp;:&nbsp;static&nbsp;<i></i></h3><p class="padded">Close the email popup. This is a hacktackular way to check if we're in a "close loop". Since we don't have crossdomain access to the frame, we can only know when it has loaded again. If it's loaded over 3 times, we know to close the frame.</p><dl class="details"></dl></div></div></body></html>